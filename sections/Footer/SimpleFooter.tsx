import Logo from "$store/components/footer/Logo.tsx";
import type { ImageWidget } from "apps/admin/widgets.ts";

export interface SubMenu {
  label: string;
  href: string;
}

export interface ExtraLink {
  label: string;
  href: string;
}

export interface Menu {
  label: string;
  href: string;
  submenu: SubMenu[];
}

export interface Props {
  logo?: {
    image: ImageWidget;
    description?: string;
  };
  text?: string;
  menu?: Menu[];
  social?: {
    linkedinUrl?: string;
    gitUrl?: string;
    discordUrl?: string;
  };
  extraLinks?: ExtraLink[];
}

function SubMenu({ menu }: { menu: Menu[] }) {
  return (
    <div class="flex flex-col md:flex-row gap-4 md:gap-[120px]">
      {menu?.map((menuItem) => {
        return (
          <div class="flex flex-col gap-4 md:gap-5 text-base-contents opacity-90">
            <a href={menuItem.href} class="font-bold hidden md:block">
              {menuItem.label}
            </a>
            <ul class="flex flex-col gap-4 md:gap-2">
              {menuItem?.submenu?.map((submenuItem) => {
                return (
                  <li>
                    <a href={submenuItem.href} class="inline-block group">
                      <div class="mb-[6px]">{submenuItem.label}</div>
                      <div class="h-[2px] bg-base-content w-0 group-hover:w-full duration-500">
                      </div>
                    </a>
                  </li>
                );
              })}
            </ul>
          </div>
        );
      })}
    </div>
  );
}

export default function Footer({
  logo = {
    image:
      "https://ozksgdmyrqcxcwhnbepg.supabase.co/storage/v1/object/public/assets/2753/d5181010-6489-4f8c-9ba9-7b615971215f",
    description: "Â© 2023 All rights reserved",
  },
  menu = [
    {
      label: "Menu item 1",
      href: "/",
      submenu: [{ label: "SubItem 1", href: "/" }, {
        label: "SubItem 2",
        href: "/",
      }, { label: "SubItem 3", href: "/" }],
    },
    {
      label: "Menu item 2",
      href: "/",
      submenu: [{ label: "SubItem 1", href: "/" }, {
        label: "SubItem 2",
        href: "/",
      }, { label: "SubItem 3", href: "/" }],
    },
    {
      label: "Menu item 3",
      href: "/",
      submenu: [{ label: "SubItem 1", href: "/" }, {
        label: "SubItem 2",
        href: "/",
      }, { label: "SubItem 3", href: "/" }],
    },
  ],
  social = {
    linkedinUrl: "https://www.linkedin.com/company/deco-cx/",
    gitUrl: "https://github.com/deco-cx",
    discordUrl: "https://discord.gg/YsGgt8EQCZ",
  },
  extraLinks,
}: Props) {
  return (
    <section class="bg-base-content">
      <div class="max-w-screen-2xl m-auto p-8 md:p-16">
        <div class="bg-base-100 text-base-content p-12 md:px-[2.03rem] flex flex-col lg:flex-row gap-12 lg:justify-between rounded-3xl md:rounded-[40px]">
          <div class="flex flex-col gap-2">
            <Logo logo={logo} />
            <ul class="flex flex-row justify-start items-start gap-4">
              <li>
                <a
                  href={social?.linkedinUrl}
                  target="_blank"
                  class="flex justify-center items-center px-3  h-10 w-10 rounded-[56px] p-2 transition duration-500"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6ZM3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM8 7C8.55228 7 9 7.44772 9 8V8.01C9 8.56228 8.55228 9.01 8 9.01C7.44772 9.01 7 8.56228 7 8.01V8C7 7.44772 7.44772 7 8 7ZM8 10C8.55228 10 9 10.4477 9 11V16C9 16.5523 8.55228 17 8 17C7.44772 17 7 16.5523 7 16V11C7 10.4477 7.44772 10 8 10ZM11 16C11 16.5523 11.4477 17 12 17C12.5523 17 13 16.5523 13 16V13C13 12.7348 13.1054 12.4804 13.2929 12.2929C13.4804 12.1054 13.7348 12 14 12C14.2652 12 14.5196 12.1054 14.7071 12.2929C14.8946 12.4804 15 12.7348 15 13V16C15 16.5523 15.4477 17 16 17C16.5523 17 17 16.5523 17 16V13C17 12.2043 16.6839 11.4413 16.1213 10.8787C15.5587 10.3161 14.7957 10 14 10C13.5483 10 13.1071 10.1019 12.7071 10.2929C12.5261 10.1119 12.2761 10 12 10C11.4477 10 11 10.4477 11 11V16Z"
                      fill="#0D1717"
                    />
                  </svg>
                </a>
              </li>
              <li>
                <a
                  href={social?.gitUrl}
                  target="_blank"
                  class="flex justify-center items-center px-3  h-10 w-10 rounded-[56px] p-2 transition duration-500"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M9.08129 3.32705C11.0029 2.89484 12.9966 2.89484 14.9183 3.32705C16.0203 2.63965 16.8877 2.314 17.5373 2.17277C17.8984 2.09429 18.1896 2.07337 18.4126 2.07832C18.5238 2.08079 18.617 2.08968 18.6924 2.10069C18.73 2.10618 18.763 2.11218 18.7915 2.11813C18.8057 2.1211 18.8187 2.12406 18.8306 2.12693L18.8476 2.13115L18.8555 2.1332L18.8592 2.1342L18.8611 2.13469C18.862 2.13494 18.8629 2.13519 18.5998 3.09995L18.8629 2.13519C19.1513 2.21385 19.3894 2.41742 19.5119 2.69012C19.99 3.75426 20.0941 4.94238 19.8181 6.06386C20.5792 7.04115 20.9985 8.24875 20.9998 9.49893V9.49995C20.9998 12.0067 20.2548 13.7424 18.9544 14.8684C18.0795 15.6259 17.0274 16.0402 15.9744 16.2752C16.013 16.5735 16.0076 16.9167 16.0028 17.2231C16.0012 17.3199 15.9998 17.4131 15.9998 17.5V21C15.9998 21.5522 15.5521 22 14.9998 22C14.4475 22 13.9998 21.5522 13.9998 21V17.5C13.9998 17.3671 14.0014 17.2451 14.003 17.137L14.0033 17.116C14.0048 17.0146 14.006 16.9293 14.006 16.85C14.006 16.6772 13.9995 16.5811 13.9884 16.5143C13.9793 16.4601 13.9681 16.4312 13.9531 16.4038C13.9351 16.3708 13.8941 16.3085 13.7927 16.2071C13.5204 15.9347 13.4286 15.5302 13.5568 15.1671C13.685 14.8039 14.0103 14.5467 14.3932 14.5056C15.7267 14.3628 16.8528 14.0426 17.6452 13.3565C18.3946 12.7076 18.9996 11.5936 18.9998 9.50097C18.9988 8.56572 18.6339 7.66756 17.9824 6.99662C17.7126 6.71884 17.6275 6.31029 17.7638 5.94788C17.9823 5.36693 18.0256 4.73981 17.8959 4.14233C17.4571 4.24792 16.7176 4.52324 15.6545 5.232C15.4172 5.39018 15.1237 5.43954 14.8477 5.36767C12.9802 4.8813 11.0193 4.8813 9.15181 5.36767C8.87585 5.43954 8.58234 5.39018 8.34507 5.232C7.28193 4.52324 6.54248 4.24792 6.10369 4.14233C5.97399 4.73981 6.01722 5.36693 6.23574 5.94788C6.37207 6.31029 6.28692 6.71884 6.01716 6.99662C5.36571 7.66745 5.00084 8.56543 4.99977 9.50052C4.99988 11.5934 5.60488 12.7075 6.35435 13.3565C7.14678 14.0426 8.27283 14.3628 9.60631 14.5056C9.98923 14.5467 10.3146 14.8039 10.4427 15.1671C10.5709 15.5302 10.4792 15.9347 10.2069 16.2071C10.0402 16.3737 9.99192 16.4961 9.96928 16.6138C9.93886 16.772 9.94333 16.9862 9.99205 17.3759C9.99719 17.4171 9.99977 17.4585 9.99977 17.5V18.977C10.0001 18.9925 10.0001 19.0079 9.99977 19.0233V21C9.99977 21.5522 9.55206 22 8.99977 22C8.44749 22 7.99977 21.5522 7.99977 21V20.2565C7.34544 20.3417 6.7551 20.3054 6.21791 20.1552C5.33724 19.9088 4.72422 19.3908 4.27017 18.8686C3.99028 18.5468 3.70748 18.1356 3.48789 17.8164C3.39387 17.6798 3.31143 17.5599 3.24579 17.4712C2.95604 17.0794 2.80479 16.985 2.71761 16.9593C2.18776 16.8035 1.88457 16.2476 2.04041 15.7178C2.19624 15.1879 2.7521 14.8847 3.28194 15.0406C4.04476 15.2649 4.531 15.8455 4.85376 16.2819C5.00791 16.4903 5.12957 16.6691 5.24159 16.8338C5.41557 17.0896 5.56631 17.3112 5.77938 17.5563C6.07532 17.8966 6.37481 18.1223 6.75664 18.2291C7.04069 18.3086 7.43671 18.3405 7.99977 18.2312V17.5611C7.9531 17.174 7.91721 16.7249 7.99909 16.2693C6.95474 16.0334 5.91278 15.6196 5.04519 14.8684C3.74473 13.7424 2.99977 12.0067 2.99977 9.49995V9.49893C3.00105 8.24874 3.42037 7.04115 4.18149 6.06386C3.90547 4.94238 4.0095 3.75426 4.48761 2.69012C4.61013 2.41742 4.84823 2.21385 5.13666 2.13519L5.39977 3.09995C5.13666 2.13519 5.13756 2.13494 5.13847 2.13469L5.1403 2.1342L5.14406 2.1332L5.15191 2.13115L5.1689 2.12693C5.18081 2.12406 5.19387 2.1211 5.2081 2.11813C5.23655 2.11218 5.26957 2.10618 5.30719 2.10069C5.38252 2.08968 5.47571 2.08079 5.58693 2.07832C5.80992 2.07337 6.10118 2.09429 6.4622 2.17277C7.11184 2.314 7.97923 2.63965 9.08129 3.32705Z"
                      fill="#0D1717"
                    />
                  </svg>
                </a>
              </li>
              <li>
                <a
                  href={social?.discordUrl}
                  target="_blank"
                  class="flex justify-center items-center px-3  h-10 w-10 rounded-[56px] p-2 transition duration-500"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M8.89088 3.00603C9.33738 2.95693 9.76183 3.21158 9.92866 3.62865L10.8003 5.8077C11.2026 5.76949 11.6004 5.75004 12.0002 5.75004C12.4 5.75004 12.7978 5.76949 13.2001 5.8077L14.0717 3.62865C14.2381 3.2127 14.6608 2.95816 15.1063 3.00568C16.675 3.17301 18.4134 3.52423 20.0718 4.67951C20.2436 4.7992 20.3735 4.96979 20.4432 5.16723C21.4648 8.06205 22.0268 10.5968 22.2447 12.6442C22.4584 14.6526 22.354 16.3085 21.9286 17.3715C21.9183 17.3973 21.9069 17.4227 21.8945 17.4475C21.5228 18.1902 20.9608 19.0399 20.2572 19.7193C19.5684 20.3844 18.6228 21 17.5002 21C17.1458 21 16.8675 20.841 16.7332 20.7554C16.5688 20.6506 16.4162 20.5204 16.2831 20.3922C16.0142 20.1333 15.7388 19.799 15.4935 19.4485C15.2469 19.0962 15.0103 18.6985 14.8313 18.3028C14.7927 18.2176 14.7545 18.1274 14.7184 18.0334C12.8875 18.3215 11.1266 18.3222 9.29599 18.0356C9.26721 18.1166 9.23689 18.195 9.20609 18.2701C9.04498 18.6629 8.83097 19.0596 8.60587 19.4127C8.38241 19.7631 8.12927 20.1 7.8783 20.3627C7.75436 20.4924 7.60908 20.6272 7.44895 20.737C7.31989 20.8254 7.03773 21 6.66818 21C5.56279 21 4.64592 20.3653 3.99189 19.702C3.31998 19.0206 2.78515 18.1706 2.43239 17.4301C2.42083 17.4058 2.41025 17.3811 2.40069 17.356C1.99904 16.3016 1.899 14.6547 2.10215 12.6493C2.30914 10.606 2.84332 8.07439 3.81526 5.18155C3.88109 4.9856 4.00604 4.81486 4.1729 4.69284C5.75886 3.53308 7.34854 3.17563 8.89088 3.00603ZM7.30889 17.6205C7.11571 17.5705 6.92128 17.5175 6.72547 17.4616C6.19444 17.3098 5.88695 16.7564 6.03867 16.2253C6.19039 15.6943 6.74388 15.3868 7.27492 15.5385C10.5954 16.4872 13.405 16.4872 16.7255 15.5385C17.2565 15.3868 17.81 15.6943 17.9617 16.2253C18.1134 16.7564 17.806 17.3098 17.2749 17.4616C17.088 17.515 16.9024 17.5656 16.7179 17.6136C16.8296 17.837 16.9735 18.0752 17.1319 18.3016C17.3241 18.5761 17.5175 18.8043 17.6704 18.9516C17.6813 18.9621 17.6916 18.9718 17.7012 18.9807C18.0396 18.9175 18.4371 18.6966 18.8679 18.2806C19.3613 17.8041 19.7909 17.1719 20.0858 16.5923C20.319 15.9749 20.455 14.7266 20.2559 12.8558C20.0646 11.0578 19.5747 8.78532 18.6668 6.14721C17.7091 5.54531 16.6993 5.25484 15.6409 5.09076L15.2217 6.13875C15.7164 6.24947 16.2308 6.38306 16.7749 6.53851C17.306 6.69024 17.6134 7.24372 17.4617 7.77476C17.31 8.30579 16.7565 8.61329 16.2255 8.46156C14.5227 7.97505 13.2468 7.75004 12.0002 7.75004C10.7536 7.75004 9.4777 7.97505 7.77492 8.46156C7.24388 8.61329 6.69039 8.30579 6.53867 7.77476C6.38695 7.24372 6.69444 6.69024 7.22547 6.53851C7.76955 6.38306 8.28401 6.24947 8.77864 6.13875L8.36144 5.09576C7.3887 5.258 6.49278 5.54334 5.60772 6.13006C4.74205 8.77147 4.27459 11.0481 4.09197 12.8508C3.90202 14.7258 4.03124 15.9833 4.25657 16.6087C4.53837 17.1906 4.94779 17.823 5.41598 18.2978C5.80445 18.6917 6.15353 18.8991 6.44205 18.9707C6.57768 18.8268 6.74862 18.6054 6.91949 18.3374C7.06924 18.1026 7.20505 17.8536 7.30889 17.6205ZM17.8082 19.0689C17.8071 19.0682 17.8057 19.0673 17.8041 19.0662C17.8193 19.0743 17.8212 19.0772 17.8082 19.0689ZM7.00019 12C7.00019 10.8955 7.89562 10 9.00019 10C10.1048 10 11.0002 10.8955 11.0002 12C11.0002 13.1046 10.1048 14 9.00019 14C7.89562 14 7.00019 13.1046 7.00019 12ZM13.0002 12C13.0002 10.8955 13.8956 10 15.0002 10C16.1048 10 17.0002 10.8955 17.0002 12C17.0002 13.1046 16.1048 14 15.0002 14C13.8956 14 13.0002 13.1046 13.0002 12Z"
                      fill="#0D1717"
                    />
                  </svg>
                </a>
              </li>
            </ul>
          </div>

          <SubMenu menu={menu} />
          {extraLinks && extraLinks?.length > 0 && (
            <div class="flex flex-col md:flex-row gap-5 lg:gap-10">
              {extraLinks.map((item) => (
                <a
                  target="_blank"
                  class="link text-sm hover:underline"
                  href={item.href}
                >
                  {item.label}
                </a>
              ))}
            </div>
          )}
        </div>
      </div>
    </section>
  );
}
